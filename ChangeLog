2008-08-07  Chris Lord  <chris@openedhand.com>

	* src/home/hd-home-view.c (hd_home_view_allocate),
	(hd_home_view_class_init), (get_bg_image_processed_name),
	(bg_image_set_idle_cb), (process_bg_image_thread),
	(hd_home_view_refresh_bg):
	Refresh the background image when the HomeView changes size

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-background-dialog.c:
	Gettextized.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	src/mb/hd-wm.c:
	Removed stale comment.

	src/home/hd-layout-dialog.c:
	(hd_layout_dialog_constructed):
	Gettextized labels.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Added -Wno-format-extra-args (necessary for us to work with the
	hildon logical strings).

	src/mb/hd-wm.c:
	(hd_wm_client_hang):
	Gettextized hand dialog; changed to conform to spec.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-dialog.c:
	Implement dialog sizing and positioning logic.

2008-08-05 Robert Bragg  <bob@o-hand.com>

	* tests/test-portrait.c
	* tests/Makefile.am:
	Adds a simple portrait mode unit tests. It basically just lets you
	toggle a property (currently called "_HILDON_SUPPORTS_PORTRAIT_MODE")
	on a gtk window, and create transient dialogs with/without the same
	property set.

2008-08-04  Chris Lord  <chris@openedhand.com>

	* configure.ac:
	Add gconf-2.0 to dependencies

	* src/home/hd-background-dialog.[ch]:
	* src/home/Makefile.am:
	Add hd-background-dialog.[ch]

	* src/home/hd-edit-menu.c (hd_edit_menu_item_release):
	Create and show the background dialog when choosing the
	change-background menu option

	* src/home/hd-home-view.c (hd_home_view_class_init),
	(hd_home_view_get_gconf_path), (hd_home_view_gconf_bgcolor_notify),
	(hd_home_view_gconf_bgimage_notify),
	(hd_home_view_gconf_bgstyle_notify), (hd_home_view_constructed),
	(hd_home_view_init), (hd_home_view_dispose),
	(get_bg_image_processed_name), (bg_image_set_idle_cb),
	(process_bg_image_thread), (hd_home_view_refresh_bg),
	(hd_home_view_set_property), (hd_home_view_get_property),
	(hd_home_view_set_background_color):
	* src/home/hd-home-view.h:
	Use gconf to store background paths, display styles and colours.
	Add threaded background-image processing (resizing, cropping, etc.)

	* src/home/hd-home.c (hd_home_constructed), (hd_home_init):
	Add a gconf directory listener for the hildon-home path, remove
	setting of the background colour for workspaces (this is done by the
	workspace itself now).

	* src/home/hd-home.h:
	Define the hildon gconf root

	* src/main.c (main):
	Initialise GLib threads

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* tests/Makefile.am
	* src/launcher/test-launcher.c
	* src/launcher/Makefile.am:
	Moves test-launcher up into the tests/ dir

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* src/home/hd-switcher.c
	* src/home/hd-home.c
	* src/home/hd-home.h
	* src/util/hd-util.c
	* src/util/hd-util.h:
	Some re-working of the pointer grabbing. We now have just one set of
	hd_home_grub/ungrab_pointer functions (removes the util versions for
	now) It adds more debugging to identify unbalanced ungrab calls.

	Adds a grab when the launcher is run.

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* home/hd-switcher.c:
	Don't use clutter_actor_{show,hide}_all to show/hide the launcher
	use clutter_actor_{show,hide}. (There is an unresloved issue where
	by using the *_all calls breaks input event handling in the
	launcher.)

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* src/home/hd-switcher.c:
	Removes some fidling with the stacking of the switcher group that
	seems to fix stacking bug whereby dialogs can end up hiden below the
	home views.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* data/icons/48x48/Makefile.am
	* data/icons/48x48/qgn_home_resizer.png
	* data/icons/48x48/qgn_home_edit_mode.png
	* data/icons/48x48/qgn_home_settings.png
	* data/icons/48x48/qgn_home_close.png
	* data/icons/48x48/qgn_general_add.png:
	Adds more icons using the logical names we know of

	* data/menu-button.png:
	Resizes to 56px height to match the height of the title area as
	defined in the master layout document.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* tests/test-applet.c
	* tests/Makefile.am
	* src/hd-applet-test.c
	* Makefile.am:
	Moves hd-applet-test.c into tests/tests-applet.c and hooks into the
	build scripts.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* data/icons/48x48/bg-image-switcher.png
	* data/icons/48x48/bg-image-launcher.png:
	Removes a couple of unsed icons

2008-07-31 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-wm.c:
	Hooks up a handler for unresponsive clients that shows a gtk message
	dialog allowing the user to either wait longer or force the client
	to quit.

	* configure.ac
	* tests/Makefile.am
	* tests/test-hung-process.c:
	Adds a simple unit test to verify the dialog for handling unresponsive
	clients.

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-comp-mgr.c:
	removes hd_comp_mgr_client_shutdown_timeout_cb and no longer sets up
	a timeout before calls to mb_wm_client_deliver_delete.

	I think there is no reliable metric for determining if a client has
	responded to a WM_DELETE (since the client can show the user a
	confirmation dialog and cancel any response) Instead we leave it up to
	the NET_WM_PING protocol for detecting unresponsive clients.

	Specifically: Testing if the client process was still running after
	a timeout and killing (-9) if so was particularly bad in the case that
	the client process was actually the WM process :-)

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/main.c:
	Initialises gtk+, clutter and mbwm2 so that they behave nicely
	together. Of a few approaches tried, this has worked best. Noteably
	it gives gtk+ a seperate X connection from clutter and mbwm2 so
	that dialogs etc, appear to the window manager as a separate client.

	more rationale is in the comments, but basically trying to do client
	like things in-process with the WM turnes out to be a a Bad Idea (tm)
	not least because it breaks the SubStructureRedirect mechanism.

	NB: You must build your libmatchbox2 without passing --with-gtk !

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-wm.c:
	Make sure we never interpret the window type for override redirect
	windows. (E.g. we were handling an 1px x 1px offscreen window - used
	by the gtk color selector for grabbing input - as an application
	window and creating a full screen frame and title bar etc)

	* src/home/hd-home.c:
	Don't mark the input only desktop window as override redirect; it
	is enough that it is marked as NET_WM_WINDOW_TYPE_DESKTOP.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-launcher-utils.c:
	(hd_get_application_launcher): Add padding.

	* src/launcher/test-launcher.c: Remove the positioning code,
	since the padding is done by the launcher group already.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-launcher-utils.c: Put the sub-level task
	launcher into its own FingerScroll, and animate the FingerScroll
	actor instead of directly the TaskLaunchers, when switching
	between top-level and sub-level.

	* src/launcher/hd-task-launcher.c: Take a reference on the
	members of the launcher closure, so that they won't disappear
	before the effect is complete; this fixes launching items
	from the sub-level task launcher.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-dummy-launcher.c: Use a random color for
	the dummy launcher icon; shorten the "bounce" effect duration.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c (launch_item): Hardcode
	the size and position of the launcher pre-load icon.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-dummy-launcher.c: Add an animation when
	showing the launchers, as per UI spec.

2008-07-29 Robert Bragg  <bob@o-hand.com>

	* src/applet-settings-button.png
	* src/applet-resize-button.png
	* src/bg-image-switcher.png
	* src/edit-button.png
	* src/bg-image-launcher.png
	* src/back-button.png
	* src/menu-button.png
	* src/close-button.png
	* src/hibernation-icon.png:
	Removes the pngs that should have gone with my previous
	theme changes. (The equivalent images now live under
	data/ and data/icons/)

	* data/themes/FremantleDev/mbwm2/theme.xml:
	typo, change template-pad-width -> template-pad-length
	adds show-title="yes"
	Note: Currently the theme engine doesn't understand about
	the icons at the top left of the screen and tries to
	print the title aligned to the left of the screen.

	* data/themes/FremantleDev/mbwm2/template.png:
	adds a close button to the template. Note though there
	was a bug with calculating the button position in the
	png theme engine. You will need to pull the latest
	mbwm2 for the close button to work)

	* data/launcher-button-highlight.png:
	* src/home/hd-switcher.c:
	Improved compositing of the swither/launcher icons. They
	are now composed of a solid colour background, a 48x48
	icon and a light higlight texture.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/home/hd-switcher.c:
	(hd_switcher_constructed): If you don't add actors to a group
	it'll be slightly difficult for Clutter to draw them.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/Makefile.am:
	* src/home/Makefile.am:
	* src/home/hd-switcher.c: First, raw pass at integrating the
	launcher into the desktop. WARNING: might break everything.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:
	* src/launcher/hd-launcher-utils.[ch]:
	* src/launcher/test-launcher.c: Prepare integration of the task
	launcher into the desktop by moving the whole build sequence of
	the launchers, animations and callbacks into a single function.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c:
	(launch_item),
	(hd_task_launcher_real_item_clicked): Update the animation of
	the application launcher; now it will use the right actor as
	the starting point of the "growing" animation.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:

	* src/launcher/hd-launcher-item.c: Remove unused effect template.

	* src/launcher/test-launcher.c: Move the application launcher
	animation from here...

	* src/launcher/hd-task-launcher.c: ... to here, where it belongs.

	* src/launcher/tidy/Makefile.am:
	* src/launcher/tidy/tidy-animation.[ch]:
	* src/launcher/tidy/tidy-interval.[ch]: Add tweening API for
	Tidy.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher-private.h:
	* src/launcher/hd-task-launcher.c: Small clean ups.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/tidy/tidy-scroll-view.c:
	(tidy_stylable_iface_init): Make the scroll bars slighly less
	big.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c: Update the adjustment range
	each time a launcher has been added to the HdTaskLauncher.

	* src/launcher/tidy/tidy-scroll-bar.c: Resync from tidy trunk
	to fix a segmentation fault.

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:
	* src/launcher/main.c:
	* src/launcher/test-launcher.c: Rename the test-launcher source
	file.

2008-07-28 Robert Bragg  <bob@o-hand.com>

	* src/launcher/tidy/Makefile.am:
	support out of tree builds

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c:
	(hd_task_launcher_get_preferred_height),
	(hd_task_launcher_class_init): Compute the preferred height for the
	task launcher.

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	Integrate the launcher in SVN. This is an initial implementation
	that's useful to check the effects and the integration: the actual
	loading and saving of the launcher contents is being reworked to
	allow the user to change the layout.

	* configure.ac:
	* src/Makefile.am:
	* src/launcher/Makefile.am: Add the launcher section.

	* src/launcher/hd-launcher-item.c:
	* src/launcher/hd-launcher-item.h: Base class for the launcher items;
	actors implementing this class must provide an icon and a label for
	the TaskLauncher to lay out inside its grid.

	* src/launcher/hd-app-launcher.c:
	* src/launcher/hd-app-launcher.h: Abstraction of the KeyFile provided
	by an application.

	* src/launcher/hd-dummy-launcher.c:
	* src/launcher/hd-dummy-launcher.h: "Dummy" launcher item.

	* src/launcher/hd-task-launcher-private.h: Private declarations.

	* src/launcher/hd-task-launcher.c:
	* src/launcher/hd-task-launcher.h: Main container actor.

	* src/launcher/main.c: Test environment, to avoid breaking the desktop
	until we have the Launcher ready.

	* src/launcher/tidy: Internal copy of actors and objects from Tidy.
	We need them for the finger pannable launcher.

2008-07-24 Robert Bragg  <bob@o-hand.com>

	* configure.ac:

	make sure we link against clutter-0.8 not clutter-0.7

2008-07-21 Robert Bragg  <bob@o-hand.com>

	* src/main.c
	* src/home/hd-gtk-style.c:
	Adds code for using GtkStyle info from a number of singleton gtk
	widgets.

	* src/home/hd-gtk-utils.c
	* src/home/hd-gtk-utils.h:
	Created some utility code for loading icons into a ClutterTexture and
	having a fallback (currently just a blank ClutterRectangle) when the
	icon can't be loaded.

	* src/home/hd-layout-dialog.c
	* src/home/hd-switcher-group.c
	* src/home/hd-home.c
	* src/home/hd-switcher.c
	* src/home/hd-gtk-style.h
	* src/home/Makefile.am
	* src/mb/hd-comp-mgr.c:
	Updated various harded coded colors, fonts or clutter texture icon
	initialisations to use the above code so the values can come from
	gtk style themes and gtk icon themes.

	* configure.ac
	* Makefile.am
	* data
	* data/themes
	* data/themes/FremantleDev
	* data/themes/FremantleDev/gtk-2.0
	* data/themes/FremantleDev/gtk-2.0/gtkrc
	* data/themes/FremantleDev/mbwm2
	* data/themes/FremantleDev/mbwm2/theme.xml
	* data/themes/FremantleDev/mbwm2/template.png:
	Adds a simple initial "hildon" mbwm2 theme and simple gtk theme
	for testing with.

	NB:
	- To pick up the development gtk theme you currently need to export
	GTK2_RC_FILES=/path/to/src/data/themes/FremantleDev/gtk-2.0/gtkrc
	- To pick up the development mbwm2 theme you need to pass
	-theme /path/to/src/data/themes/FremantleDev/mbwm2/theme.xml
	on the hildon-desktop command line.

	* data/Makefile.am
	* data/icons
	* data/icons/48x48
	* data/icons/48x48/applet-settings-button.png
	* data/icons/48x48/applet-resize-button.png
	* data/icons/48x48/qgn_tswitcher_right.png
	* data/icons/48x48/bg-image-switcher.png
	* data/icons/48x48/qgn_tswitcher_back.png
	* data/icons/48x48/qgn_home_close.png
	* data/icons/48x48/qgn_tswitcher_application.png
	* data/icons/48x48/qgn_tswitcher_close.png
	* data/icons/48x48/Makefile.am
	* data/icons/48x48/bg-image-launcher.png
	* data/icons/48x48/hibernation-icon.png
	* data/icons/48x48/back-button.png
	* data/icons/48x48/qgn_tswitcher_left.png
	* data/icons/Makefile.am:
	Re-organises the .png icons to be installed under $prefix/share/icons
	to be picked up by the gtk_icon theme/cache code.

	Renames some of the .png files to their logical names.

	NB:
	You currently need to export
	XDG_DATA_DIRS="/path/to/prefix/share:/usr/local/share/:/usr/share/")
	for the icons to be found.

	* data/menu-button.png
	* data/edit-button.png:
	Installs other misc images under $prefix/share/hildon-desktop for now.
	It's no longer neccisary to run hildon-desktop in the same dir as
	the .png files

2008-07-17 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	* src/mb/hd-desktop.c:
	* src/mb/hd-home-applet.c:
	* src/mb/hd-home-applet.h:
	* src/mb/hd-applet-layout-manager.c:
	* src/mb/hd-applet-layout-manager.h:
	Implemented automatic applet layout per specification.

2008-07-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home.c:
	* src/home/hd-switcher-group.c:
	* src/home/hd-switcher-group.h:
	* src/home/hd-switcher.c:

	Implemented panning in the switcher.

2008-07-15 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Disabled applet sittings button (it has been removed from the
	spec, but there is some uncertanity whether it will not come back,
	hence the #ifdefs).

2008-07-15 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	(hd_home_add_applet):
	(hd_home_remove_applet):
	Support for sticky applets.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-layout-dialog.c:
	(hd_layout_dialog_constructed):
	Fixed bad cast.

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	Support for background modes.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	Split background into solid color and image.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-layout-dialog.c:
	Layout managing mode: added thumbnails to dialog, connected event
	handlers.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/Makefile.am:
	* src/home/hd-home.c:
	* src/home/hd-layout-dialog.h:
	* src/home/hd-layout-dialog.c:
	Initial refactoring of layout managing mode to matched the updated
	spec.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	Implemented moving of applets across view boundary.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	Controls for switching home view while dragging an applet.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Put back -Werror following fix in clutter headers.

	* src/home/hd-home.c:
	(hd_home_fixup_operator_position):
	Removed spurious line of code.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-switcher.c:
	* src/home/hd-switcher.h:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	Added operator label and basic API for setting text and icon.

2008-07-02 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	( hd_switcher_group_zoom_out):
	Ensure that the actor we are zooming is topmost.

2008-07-02 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	Refactored zoom-out effect to match the current spec.

2008-07-01 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Temporarily remove --Werror until an issue in clutter headers is
	fixed upstream.

	* src/mb/hd-comp-mgr.c:
	Shortened timeout for unmap effect.

2008-06-30 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	(hd_switcher_group_remove_actor):
	Reparent the actor if appropriate.

	* src/mb/hd-comp-mgr.c:
	Added a counter for running unmap effects to control stacking order
	while unmap effects are running.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Added background to HdHome actor.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/hd-applet-test.c:
	Added --view-id parameter.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	* src/mb/hd-desktop.c:
	Implemented specialized HdDesktop::stack() method to handle applet
	visibility.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	(construct_buttons):
	Removed some testing code.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	(hd_switcher_group_hide_all):
	Added explicit call to clutter_actor_show() when reparenting
	client actors back to original parent.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/home.c:
	(hd_home_remove_view):
	(hd_home_do_layout_contents):
	Ensure correct position of Home in layout mode when last view in
	the list is removed.

2008-06-13 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Fixed layout view when a view is removed.

2008-06-13 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-dialog.c:
	* src/mb/hd-dialog.h:
	* src/mb/hd-wm.c:
	Custom MBWMClientDialog subclass to handle hildon peculiarities.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/home/Makefile.am:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-switcher.c:
	* src/home/hd-edit-menu.h:
	* src/home/hd-edit-menu.c:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	Home edit menu.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	(hd_app_close_followers):
	Hooked into  mb_wm_client_deliver_delete() mechanism.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/main.c:
	* src/mb/Makefile.am:
	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	* src/mb/hd-wm.c:
	* src/mb/hd-wm.h:
	Custom HdAppMenu subclass of MBWMClientDialog to handle Hildon
	application menu windows.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	* src/mb/hd-wm.c:
	* src/mb/hd-note.h:
	* src/mb/hd-note.c:
	Custom HdNote subclass of MBWMClientNote to handle Hildon
	notifications (banners, infos and confirmations).

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/hd-applet-test.c:
	Added couple of sliders to the sample applet.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	* src/mb/hd-app.h:
	* src/mb/hd-theme.c:
	More of Hildon stackable window back button code.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	Skeleton for handling presses on Hildon stackable window back
	button.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	* src/mb/hd-app.h:
	* src/mb/hd-theme.c:
	Fixed handling of hildon stackable windows so that legacy
	applications continue to work as they used to.

	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	Added _HILDON_STACKABLE_WINDOW atom.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am
	* src/mb/hd-app.h:
	* src/mb/hd-app.c:
	* src/mb/hd-theme.c
	* src/mb/hd-wm.c
	Custom MBWMClientApp subclass to allow handling of hildon views.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-comp-mgr.h:
	Replace binary flags in HdCompMgrClientPrivate with boolean fields
	to improve clarity.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Connect/disconnect captured-event handler selectively for
	thumbnail mode only.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Handle thumbnail mode via capture-event signal instead of using a
	mouse trap actor.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	* src/mb/hd-theme.h:
	Added HdThemeSimple, subclass of MBWMTheme, to simplify testing
	in the absence of real, png-based theme.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	* src/main.c:
	* src/mb/Makefile.am:
	* src/mb/hd-theme.h:
	* src/mb/hd-theme.c:
	Start start of a customized MBWMTheme subclass.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	Restructured source tree to improve clarity:

	* src/mb:   Matchbox subclasses,
	* src/home: Home (clutter subclasses),
	* src/util: Auxiliary stuff.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_zoom):
	Fixed group position before zoom effect.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Correctly terminate applet resizing when release lands outside of
	the resize button.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-home.c:
	Hooked up settings button.

	* src/hd-applet-test.c:
	Added ClientMessage handler.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Applet resizing.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home.c:
	* src/hd-home.h:
	Applet dragging.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_class_init):
	Fixed typo.

	* src/hd-home.c:
	Hooked up applet close button.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home.c:
	* src/hd-home.h:
	Added edit mode applet decors and signal handlers.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	Start of Home edit mode.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-home.c:
	Added simple ClientMessage-based mechanism for applet-initiated
	home panning.

	* src/hd-applet-test.c:
	Simple Home applet.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_top_home):
	(hd_comp_mgr_home_clicked):
	Implemented topping of home.

	* src/hd-home-applet.c:
	(hd_home_applet_init):
	Make transient for HdDesktop client.

	* src/hd-home.c
	(hd_home_constructed):
	Revert default mode to NORMAL.

	* src/hd-switcher.c:
	* src/hd-switcher.h:
	(hd_switcher_deactivate):
	API to deactivate switcher and restore normal stack order.

2008-06-04  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c
	* src/hd-home-view.h
	* src/hd-home.c
	* src/hd-home.h
	Refactored panning code to avoid need to do pointer grab.

	* src/hd-util.c:
	* src/hd-util.h:
	Remove unnecessary functions.

	* src/Makefile.am
	* src/hd-comp-mgr.c
	* src/hd-wm.c:
	* src/hd-desktop.h:
	* src/hd-desktop.c:
	* src/hd-home-applet.c
	Custom MBWindowManagerClient subclass for our input-only desktop
	window.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Handle applet removal.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	Forwarding of events to applets.

	* src/hd-util.c:
	* src/hd-util.h:
	(hd_util_ungrab_pointer):
	Added return value.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	* src/hd-home.h:
	Attach applets to a home view.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_restack):
	If only home applets are present, put home into active input mode.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	New atoms for home applet type.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	(hd_comp_mgr_get_atom):
	Public accessor for the custom atom cache.

	* src/hd-home-view.c:
	* src/hd-home.c:
	Added HdHomeView::id construction property to persistently
	identify given view.

	* src/hd-wm.h:
	HdWmClientType enum for client types.

	* src/hd-wm.c
	Subclassed MBWindowManager::client_new().

	* src/Makefile.am:
	* src/hd-home-applet.h:
	* src/hd-home-applet.c:
	Start of custom client type for home applets.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_pan_full):
	Deal with view rollover.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Added construction time "home" property.
	Refactored motion handling.

	* src/hd-home.c:
	* src/hd-home.h:
	Translate view motion events to panning.

	* src/hd-util.c:
	(hd_util_grab_pointer):
	Added motion event mask.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_restack):
	Put Home into active input mode when no application windows are
	present.

	src/hd-home-view.c:
	src/hd-home-view.h:
	src/hd-home.c:
	src/hd-home.h:
	Added active input mode for the Home actor when Home is
	on the top (all button events are getting trapped within Home
	views and only forwarded to children when appropriate).

	Added HdHome::background-clicked signal.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added ClutterButtonEvent parameter to thumbnail-clicked and
	background-clicked signals.

	* src/hd-home.c:
	* src/hd-switcher.c:
	* src/hd-util.c:
	* src/hd-util.h:
	(hd_util_grab_pointer):
	(hd_util_ungrab_pointer):
	Extracted pointer grabbing from home/mgr.

	(hd_util_fake_button_event):
	Function to dispatch fake button events.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added background-clicked signal.

	* src/hd-home.c:
	* src/hd-home.h:
	Smooth home panning.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_show_view):
	Fixed handling of mode and home position.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	Added thumbnail mode and thumbnail-clicked for home layout view.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Added new view button; fixed return values in button click
	handlers.

	* src/hd-switcher-group.c:
	* src/hd-switcher.c:
	Fixed return values in button click handlers.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_do_layout_layout):
	Added zoom out effect when switching to layout mode.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Start of edit mode.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_constructed):
	Removed misplaced hd_home_set_mode() call left over from testing.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/back-button.png:
	Placeholder of back button icon.

	* src/hd-home.c:
	Added close and back butttons.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	Infrastructure for normal/edit/layout mode; fundamentals of normal
	and layout layouts.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added HdHomeView object to represent a single home view.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_launch_application):
	Added available memory check; UI needed.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	(hd_switcher_group_hide_all):
	Setup vieport to mask out client decorations as requied by the UI
	spec.

	* src/hd-switcher.c:
	(hd_switcher_item_selected):
	* src/hd-comp-mgr.c:
	(hd_comp_mgr_unregister_client):
	Fixed incorrect GObject data key.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hibernation-icon.png:
	stub for an hibernation icon.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher.c:
	Waking up of hibernated applications via switcher.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-dbus.c:
	* src/hd-dbus.h:
	(hd_dbus_launch_service):
	Helper method for the below.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	(hd_comp_mgr_launch_application):
	Method to launch applications over dbus.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	Added TODO comment.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-comp-mgr.c:
	* src/hd-switcher-group.c:
	* src/hd-switcher-group.h:
	* src/hd-switcher.c:
	* src/hd-switcher.h:
	Handle weaking up of hibernated applications.

2008-05-27  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	Added -D_XOPEN_SOURCE (need to access kill()).

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-dbus.c:
	(hd_comp_mgr_close_client):
	(hd_comp_mgr_hibernate_client):
	Made more robust by adding a timed check followed by a kill() for
	applications that refuse to die.

	(hd_comp_mgr_hibernate_client):
	(hd_comp_mgr_hibernate_all):
	Differentiate between applications that know how to hibernate and
	those that do not; added force parameter to override.

2008-05-27  Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Added dbus to required packages.

	* src/Makefile.am:
	Added hd-atom.[ch] hd-dbus.[ch] and hd-util.[ch] to build.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	Added dbus hook for hibernation signal,
	Subclassed MBWMCompMgrClutterClient and moved our flags into
	HdCompMgrClientPrivate.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher-group.c:
	Start of implementation of hibernation infrastructure.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher.c:
	Moved HdHome object from HdSwitcher into the CM; handle events on
	the Home actor.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	(hd_switcher_group_hide_all):
	Removed temporary workaround not necessary now that HdHome is
	present.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	* src/hd-home.h:
	* src/hd-home.c:
	Initial stubs for the Home object.

	* src/hd-switcher.c:
	(hd_switcher_constructed):
	(hd_switcher_clicked):
	(hd_switcher_hide_switcher):
	Integrated HdHome object into the WM.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_effect):
	Implemented TV-out style effect for application windows.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Cleaned up comments and code.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Removed stale files.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Simplified compositor by subclassing MBWM2's Clutter compositor.

2008-05-14  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-window.c:
	* src/hd-switcher.c:
	Sync up with upstream changes in clutter API.


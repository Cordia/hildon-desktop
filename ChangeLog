2008-12-01  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/home/hd-home-view.c (hd_home_view_constructed): Make all home
	views black by default.

2008-12-01  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/tidy/tidy-blur-group.c:
	  Moved dimming code to where texture is rendered, so we make better
	  use of our 4bpp. Also means that changes in brightness are much
	  quicker to render.

2008-11-28  Jan Arne Petersen,Berlin  <jpetersen@openismus.com>

	* src/home/hd-home-dbus.xml: Also export the UngrapPointer method.

	* src/home/hd-home.c: grab_pointer is already called when the edit
	  menu is closed.

2008-11-28  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-dialog.c
	* src/util/hd-util.h
	* src/util/hd-util.c:
	  Moved the modal blocker window creation code to a common place.
	* src/mb/hd-note.h
	* src/mb/hd-note.c:
	  Create a modal blocker for information notes like HdDialog does
	  to close them when the user clicks outside the note.

2008-11-27  Thomas Thurman  <thomas.thurman@collabora.co.uk>

	* src/mb/hd-app-menu.[ch]: A HildonAppMenu is a menu, not a dialog.

2008-11-27  Thomas Thurman  <thomas.thurman@collabora.co.uk>

	* src/mb/hd-theme.c: Only non-leader app windows have back buttons.

2008-11-27  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-task-navigator.c:
	  Truncate the thumbnail titles.

2008-11-27  Thomas Thurman  <thomas.thurman@collabora.co.uk>

        (some of this checkin was accidentally in the previous commit)

	* src/mb/hd-theme.c: Menus do not have back buttons, per Tuomas.

2008-11-27  Thomas Thurman  <thomas.thurman@collabora.co.uk>

        Created X windows are named, for debugging.

	* src/home/hd-home.c:
	* src/mb/hd-dialog.c:

2008-11-27  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  hd_comp_mgr_effect(), hd_comp_mgr_unregister_client():
	  Handle clients which didn't map before leaving.
	  Fixes some CRITICALS caused by systemui.

2008-11-27  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/mb/hd-comp-mgr.c, src/home/hd-home.c,
	src/home/hd-task-navigator.c: Shorten animation durations for the
	managers.

2008-11-26  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/mb/hd-app.c: initialise variable before use, from Laszlo.
	Fixes: NB#92638

2008-11-26  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  hd_comp_mgr_dump_debug_info(): print more information about
	  client windows.

2008-11-26  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/home/hd-home.c:
	Added more names to actors for debugging
	* src/mb/hd-comp-mgr.c:
	Fixed bug where tapping on the background would cause the screen
	to suddenly blur and fade back in

2008-11-26  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/tidy/tidy-finger-scroll.c:
	Changed code for dragging so that position updates immediately
	* src/tidy/tidy-blur-group.c:
	Modified blur group to use new clutter's 'notify-modified' so
	that it now updates if something that is blurred changes.

2008-11-25  Thomas Thurman  <thomas.thurman@collabora.co.uk>

        Move and redraw title when status area changes size or appears or
	disappears.

	* src/home/hd-home.c:

2008-11-25  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Release 2.2.7

2008-11-25  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.h
	* src/mb/hd-comp-mgr.c:
	  Added a @tag parameter to hd_comp_mgr_dump_debug_info() to identify
	  the debug dump as a whole.
	  Include the wm client stack in the debug dump.
	  Add the client's XWindow number for actors.
	* src/main.c
	* src/home/hd-task-navigator.c:
	  More clutter_actor_set_name()s.

2008-11-25  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  dump_clutter_actor_tree(): if the actor to dump is a ClutterLabel
	  and it doesn't have a name otherwise print the label text as name.
	* src/home/hd-home.c
	* src/home/hd-task-navigator.c:
	  Added more explicit clutter_actor_set_name()s to make debugging
	  easier.

2008-11-24  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  release_win(): Hide the dialogs as well as the application window
	  when exiting the switcher.

2008-11-24  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  hd_task_navigator_add_dialog(): Show the new dialog on the top,
	  regardless of what it is transient for.

2008-11-24  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  When an application window actor is added to the switcher
	  set its clutter name to the class_hint of the client
	  unless it had a name already.

2008-11-24  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/home/hd-task-navigator.c (release_win): Add clutter_actor_hide()
	to fix problem with switching to application when tapping on home.

2008-11-24  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/mb/hd-comp-mgc.c:
	Fixed problem with home view settings window not being shown
	because of clutter ordering

2008-11-24  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/mb/hd-theme.c: Use MB_WM_DECOR_BUTTON_NOHANDLERS for the dummy
	decor button that is created for moving the application title.

2008-11-24  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.h
	* src/mb/hd-comp-mgr.c:
	  hd_comp_mgr_dump_debug_info() added.  Currently it g_debug()s
	  who has the XGetInputFocus() and the clutter actor hierarchy.
	  Call it whenever you want.
	* src/main.c:
	  Dump debug info on SIGUSR1.
	* src/launcher/hd-launcher-utils.c
	* src/home/hd-switcher.c
	* src/home/hd-task-navigator.c:
	  clutter_actor_set_name() some actors to be easier to recognize
	  in the debug dump.

2008-11-21  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/home/hd-home-view.c (get_bg_image_processed_name): Strip extra
	".png" from background image names.
	(process_bg_image_thread): Check for existing file before saving the
	pixbuf.
	(hd_home_view_refresh_bg): Only change the background if the file name
	or mode is different.

2008-11-21  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/tidy/tidy-blur-group.c:
	* src/tidy/tidy-blur-group.h:
	* src/tidy/Makefile.am:
	  Added a tidy/clutter class that blurs all of its children. Fallback
          of dimming for Xephyr which doesn't appear to handle fragment shaders

	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	  Added tidy-blur-group and made home view a child of it. Added function
	  to allow background blur to be turned on/off when needed

	* src/launcher/hd-launcher-utils.c:
	  Removed dimmed background (now use blur in hd-comp-mgr)

	* src/home/hd-task-navigator.c:
	  Removed dimmed background (now use blur in hd-comp-mgr)

	* src/home/hd-switcher.c:
	  use blur in hd-comp-mgr for task switcher background


2008-11-21  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/hd-home.c (hd_home_desktop_key_press): Add boilerplate
	  handler for KeyPress handling.
	  (hd_home_constructed): Listen for KeyPress events on Home.

2008-11-21  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  Changed the location where the task switcher searches for playing
	  video screenshots to "/var/tmp/app-screenshots/<app-name>".

2008-11-21  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  Bring the application to the foreground instead of trying to
	  close it when it has open dialogs and the user taps the close
	  button in switcher view.

2008-11-21  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add check for dbus-binding-tool.

	* src/home/Makefile.am: Add generation of hd-home-glue.h file used by
	  D-Bus.

	* src/home/hd-home-dbus.xml: Export some methods of HdHome required by
	  hildon-home to D-Bus.

	* src/home/hd-home.c (HD_HOME_DBUS_NAME, HD_HOME_DBUS_PATH,
	  hd_home_init): Export some methods to D-Bus.

	* src/home/hd-switcher.c (launcher_group, connection,
	  hildon_home_proxy, hd_switcher_constructed,
	  hd_switcher_menu_clicked): Call hildon-home via D-Bus to show the
	  edit menu.

	* src/home/hd-add-applet-dialog.c (deleted):
	* src/home/hd-task-manager.c (deleted):
	* src/home/hd-background-dialog.c (deleted):
	* src/home/hd-add-applet-dialog.h (deleted):
	* src/home/hd-task-manager.h (deleted):
	* src/home/hd-background-dialog.h (deleted):
	* src/home/hd-add-task-dialog.c (deleted):
	* src/home/hd-edit-menu.c (deleted):
	* src/home/hd-add-task-dialog.h (deleted):
	* src/home/hd-edit-menu.h (deleted):
	* src/home/hd-applet-manager.c (deleted):
	* src/home/hd-applet-manager.h (deleted): Moved to hildon-home.

2008-11-21  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/hd-home.c (applet_close_button, edit_button_cb, desktop,
	  hd_home_view_background_clicked, hd_home_view_applet_clicked,
	  hd_home_applet_settings_button_clicked, hd_home_constructed,
	  hd_home_set_mode, hd_home_show_activate_views_dialog,
	  hd_home_show_applet_buttons, hd_home_hide_applet_buttons,
	  hd_home_move_applet_buttons):
	* src/home/hd-home.h: Add function to show the Activate views dialog.
	Do not show resize button for applets. Fixes NB#92125.

	* src/mb/hd-applet-layout-manager.c
	(hd_applet_layout_layer_sort_func): Fix a bug which crashed the sort.

2008-11-21  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  Remove dialogs from the switcher in hd_comp_mgr_effect()
	  rather than hd_comp_mgr_unregister_client() to have access
	  to MBWMClientBase::transient_for.  This fixes critical warnings.
	* src/home/hd-switcher.c:
	  Re-enable handling of dialogs in switcher view.

2008-11-20  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.h
	* src/mb/hd-comp-mgr.c:
	  hd_comp_mgr_close_app() added to allow for closing all clients
	  of a window stack.
	* src/home/hd-switcher.c:
	  Close all clients of a window stack when an application is closed
	  in switcher view.

2008-11-20  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	Allow adding and show all its dialogs an application may have
	in switcher view, including any kind of HildonNote:s.

	* src/mb/hd-comp-mgr.c:
	  Add all kinds of HildonNote:s to the switcher.
	* src/home/hd-task-navigator.c:
	  Handle more than one dialog per application.
	* src/home/hd-switcher.c

2008-11-19  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  When a client is unregistered don't try to remove its actor
	  from the switcher if the client specified to SkipTaskbar.
	  This is to avoid a harmless critical warning at the cost
	  of not removing actors whose client changed that flag.

2008-11-19  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/mb/hd-app.c, src/mb/hd-theme.c: Patch from Laszlo Pere to fix
	the long press handling for the Back button on stackable window.

2008-11-19  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-switcher.c:
	  Ungrab the pointer when hd_swticher_something_removed() and the
	  switcher has become empty, thus leaving it.  Fixes one case of
	  making applications unresponsive to touchscreen events after
	  leaving the switcher.
	* src/home/hd-task-navigator.c:
	  Don't allow interactions with the thumbnails while animation is
	  in progress.  Fixes the weirdness you could observe by tapping
	  the same or another thumbnail while zooming and a crash when
	  you tried to close the zooming thumbnail.
	* TODO:
	  Removed done todos.

2008-11-18  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	  Dont't give system-modal dialogs to the switcher.

2008-11-18  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	Show open dialogs in the applications' thumbnail in switcher view.
	Switch to the application if it opens a confirmation note.

	* src/mb/hd-comp-mgr.c:
	  Add/remove dialogs and confirmation notes to the switcher
	  on map/unregister.
	* src/home/hd-switcher.c
	* src/home/hd-task-navigator.c
	* src/home/hd-switcher.h
	* src/home/hd-task-navigator.h

2008-11-18  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Release 2.2.6

	* src/mb/hd-comp-mgr.c, src/mb/hd-theme.c: Patch from Laszlo Pere to
	make stackable windows better supported. Fixes: NB#87040

2008-11-17  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-task-navigator.c:
	  Show the correct (wrt stacking) and up-to-date window title in
	  the thumbnails in switcher view.
	* TODO:
	  Added and removed switcher todos.

2008-11-17  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	Show the last frame of a paused video in switcher view.

	* src/home/hd-task-navigator.c:
	  * pixbuf2texture(): Be more robust and check the input pixbuf.
	    Accept pixbufs with alpha channel.
	* src/home/hd-switcher.c:
	  Removed some debug prints.

2008-11-14  Thomas Thurman  <thomas.thurman@collabora.co.uk>

	* src/mb/hd-comp-mgr.c: initialise variable to avoid warning

2008-11-14  Gordon Williams <gordon.williams@collabora.co.uk>

	* src/launcher/hd-dummy-launcher.c
	* src/launcher/hd-launcher-utils.c
	* src/launcher/hd-task-launcher.c
	* src/home/hd-edit-menu.c
	* src/tidy/tidy-scroll-bar.c
	* src/util/hd-gtk-utils.c
	Named some clutter actors to ease debugging
	* src/home/hd-home.c
	Named some clutter actors to ease debugging
	Removed large background texture
	* src/home/hd-home-view.c
	Named some clutter actors to ease debugging
	Removed the solid background rectangle when an image is added
	Background Image added at the same position as previous image

2008-11-14  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Release 2.2.5

	Removed data/themes

2008-11-13  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/hd-background-dialog.c (hd_background_dialog_init): Set
	window title. Fixes: NB#92490

2008-11-13  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/home/hd-switcher.c:
	Don't add the same window to the switcher more than once,
	as it happens with unfullscreened windows.
	* src/home/hd-task-navigator.c:
	Comment clarification.
	* src/mb/hd-comp-mgr.c:
	hd_comp_mgr_close_client(): don't crash if it's erroneously
	passed NULL.

2008-11-12  Pere Laszlo  <ext-laszlo.pere@nokia.com>

	Make the operator name move out of the way of the status
	area when it resizes.
	closes bug #88444
	patch number 36447
	reviewed by: Thomas Thurman

	* src/home/hd-home.c: add new function
	hd_home_status_area_allocation_changed() to fix up the
	position of the operator name, attached as a callback
	to the size changing signal of the status area
	* src/home/hd-switcher.c: add comment describing function

2008-11-12  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	Don't add windows marked as SkipTaskbar to the task switcher.

2008-11-12  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	Do a TV-turned-off-like effect when an application is closed
	in switcher view.

	* src/home/hd-switcher.c:
	Keep the switcher open while the effect is running.
	* src/home/hd-task-navigator.h
	* src/home/hd-task-navigator.c:
	Take advantage of clutter_actor_set_anchor_point_from_gravity().
	* src/mb/hd-comp-mgr.c:
	Disable its own TV-turned-off effect in switcher view.
	* TODO:
	Switcher-related todos updated.

2008-11-11  Adam Endrodi  <adam.endrodi@blumsoft.eu>

	* src/mb/hd-comp-mgr.c:
	Fix r31798's patch application which left the application's
	thumbnail in the switcher.

2008-11-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/Makefile.am: Add new hd-task-manager.[ch] and
	hd-add-task-dialog.[ch] files.

	* src/home/hd-edit-menu.c (hd_edit_menu_item_release): Add support for
	Add shortcut dialog.

	* src/home/hd-task-manager.c:
	* src/home/hd-task-manager.h: Add class to load the available tasks
	from the .desktop files (used by the Add shortcut dialog).

	* src/home/hd-add-task-dialog.c:
	* src/home/hd-add-task-dialog.h: Add class which implements the Add
	shortcut dialog

	* src/home/hd-applet-manager.c (items_configuration_loaded_cb): Fix
	bug in i18n code.

2008-11-07  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Patch from Tapani Pälli for HildonStackableWindow. This
	implementation will change in the future to support more exotic use
	cases.

	* src/mb/hd-app.c: Tapani's patch.

2008-11-07  Marc Ordinas i Llopis  <marc.ordinasillopis@collabora.co.uk>

	Test for presence of su, which is not available in scratchbox. Copied from
	hildon-home, thanks jpetersen.

	* debian/hildon-desktop.init: If su is not present, launch hildon-desktop
	  directly.

2008-11-06  Adam Endrodi  <adam.endrodi@blumsoft.eu>

 Enhancements in the task switcher view.

 * src/home/Makefile.am
 * src/home/hd-switcher-group.h
 * src/home/hd-switcher-group.c:
   Gone, replaced by src/home/hd-task-navigator.c.
 * src/home/hd-scrollable-group.h
 * src/home/hd-scrollable-group.c:
   Generic scrollable clutter container used by hd-task-navigator.c.
 * src/home/hd-task-navigator.h
 * src/home/hd-task-navigator.c:
   Adds correct thumbnail dimenstions, decorations, effects and arrangements,
   shows incoming event notifications, blurs the background in switcher view
   and is scrollable.
 * src/home/hd-switcher.h
 * src/home/hd-switcher.c:
   Updated for hd-task-navigator.c, now HdSwitcher is more like a control point.
   Handles the closing of notification windows.
 * src/mb/hd-comp-mgr.c:
   Add/remove notifications when the window is mapped/unregistered.
 * src/mb/hd-note.h
 * src/mb/hd-note.c:
   Fixed the handling of infobanners, extended to cover incoming events.
   Also fixed a bug in the class construction code.
 * src/mb/hd-atoms.h
 * src/mb/hd-atoms.c:
   New X window properties for hildon-home/HDIncomingEventWindow:s:
     _HILDON_INCOMING_EVENT_NOTIFICATION_DESTINATION
     _HILDON_INCOMING_EVENT_NOTIFICATION_SUMMARY
     _HILDON_INCOMING_EVENT_NOTIFICATION_ICON
 * TODO:
   Added TODOs for the task switcher and about incoming event notifications.

2008-11-06  Marc Ordinas i Llopis  <marc.ordinasillopis@collabora.co.uk>

	At least one home view should be active at all times.

	* src/home/hd-home.c (hd_home_activate_view, hd_home_deactivate_view): Moved
	controlling the number of active views to the layout dialog.
	* src/home/hd-layout-dialog.c (hd_layout_thumb_number_key,
	  active_views, hd_layout_dialog_thumb_clicked,
	  hd_layout_dialog_fixup_highlighters, hd_layout_dialog_constructed): Control
	the total number of active views so that at least one is active at all times.

2008-11-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/mb/hd-desktop.c (get_current_theme): Add function to get current
	  theme.
	  (hd_desktop_theme_change): On theme change update gconf background
	  image keys according to the backgrounds/*.desktop file of the new
	  theme.

2008-11-03  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/hd-applet-manager.c (items_configuration_loaded_cb): Add
	  internationalization support.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/control:
	* debian/hildon-desktop.postinst: Fix lintian issues.

2008-10-31  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/changelog: Release 2.2.4.

	* debian/control: Update requirements.

2008-10-30  Jan Arne Petersen  <jpetersen@openismus.com>

	Implement Add Applet dialog. Fixes NB#88341.

	* configure.ac: Require hildon-1 and libhildondesktop-1.

	* debian/control: Require libhildon1-dev and libhildondesktop1-dev.

	* src/home/Makefile.am: Add new files to sources.

	* src/home/hd-add-applet-dialog.c:
	* src/home/hd-add-applet-dialog.h: Implement the "Add Applet" dialog.

	* src/home/hd-applet-manager.c:
	* src/home/hd-applet-manager.h: Implement an applet manager used by
	the "Add Applet" dialog.

	* src/home/hd-edit-menu.c (hd_edit_menu_item_release): Add support
	for the "Add Applet" dialog.

	* src/home/hd-home.c (hd_home_applet_close_button_clicked): Remove
	applets if they are closed.

	* src/launcher/hd-app-launcher.c (hd_app_launcher_load_from_keyfile):
	Do not try to strchomp NULL strings.

	* src/main.c (main): Initialize GnomeVFS.

2008-10-30  Marc Ordinas i Llopis  <marc.ordinasillopis@collabora.co.uk>

	Improved switcher/launcher button managing logic.
	Fixes: NB#88359

	* src/home/hd-switcher.c (hd_switcher_clicked,
	  hd_switcher_setup_buttons): Changed logic so it hides both buttons when
	  the launcher is shown. Now it also shows the launcher button when in
	  switcher mode.

2008-10-20  Marc Ordinas i Llopis  <marc.ordinasillopis@collabora.co.uk>

	Made the launcher prettier and more similar to the specs.
	Fixes: NB#88439

	* src/Makefile.am: Moved all the hd-gtk-* utils to src/util.
	* src/home/Makefile.am:
	* src/launcher/Makefile.am:
	* src/launcher/hd-app-launcher.c (hd_app_launcher_get_label): Use gtk theme
	color and font to create the launcher label.
	* src/launcher/hd-launcher-item.c
	(hd_launcher_item_get_preferred_width,
	hd_launcher_item_get_preferred_height, hd_launcher_item_allocate,
	hd_launcher_item_paint): Made launcher items fixed sized as per the layout
	guide.
	* src/launcher/hd-launcher-utils.c (background,
	hd_get_application_launcher): Added a background to the main launcher group.
	Moved the other actors to correct positions.
	* src/launcher/hd-task-launcher.c (hd_task_launcher_init): Corrected padding
	and spacing.
	* src/util/Makefile.am:
	* tests/Makefile.am:

2008-10-19  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/home/hd-home-view.c (hd_home_view_applet_release): Store new
	applet position and view in GConf.
	* src/home/hd-home.c (hd_home_applet_close_button_clicked): Remove
	stored position and view.
	  (hd_home_add_applet): Add applet with stored position and stored
	  view (if available).

	* src/mb/hd-atoms.c (hd_atoms_init):
	* src/mb/hd-atoms.h: Add _HILDON_APPLET_ID and UTF8_STRING atoms.

	* src/mb/hd-comp-mgr.c (hd_comp_mgr_map_notify): Store applet id in
	cutter actor.

	* src/mb/hd-home-applet.c (hd_home_applet_destroy): Free applet_id.
	  (hd_home_applet_init): Set applet_id to _HILDON_APPLET_ID window
	  property.
	* src/mb/hd-home-applet.h: Add applet_id argument.

2008-10-14  Marc Ordinas i Llopis <marc.ordinasillopis@collabora.co.uk>

  * src/home/hd-layout-dialog.c (hd_layout_dialog_constructed) : Scale the
  thumbnail view instead of setting its size when using fbos. Fixes: NB#88355

2008-10-13  Marc Ordinas i Llopis <marc.ordinasillopis@collabora.co.uk>

  * src/home/hd-edit-menu.c (hd_edit_menu_init) : Corrected edit menu strings.
  Fixes: NB#88317
  * src/home/hd-edit-menu.c (hd_edit_menu_constructed) : Changed tabs to spaces.

2008-10-07  Marc Ordinas i Llopis <marc.ordinasillopis@collabora.co.uk>

  * src/launcher/hd-app-launcher.c (hd_app_launcher_activate) : Added a child
  setup funcion called by g_spawn_async that sets up the correct priority and
  OOM unprotection. Fixes: NB#87443

2008-09-24  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Release 1:2.2.3-1

2008-09-22  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/mb/hd-dialog.c (hd_dialog_realize): In the case Matchbox created
	the modal blocker, select for ButtonRelease events on the window. This
	enables us to catch ButtonRelease for system-modal dialogs.

2008-09-20  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Release 1:2.2.2-1

2008-09-15  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* configure.ac: Add gettext-related stuff from the old code.

	* src/main.c (main): Initialise locale and gettext system.

	* src/hildon-desktop.h: New file for global defines.

	* src/launcher/hd-app-launcher.c (hd_app_launcher_get_label): Use
	gettext() to get localised application name.

2008-09-09  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* src/launcher/hd-task-launcher.c
	(hd_task_launcher_get_preferred_height): Use amount of rows to
	calculate the height. Fix a one-off problem when determining start of
	a new row. Fixes: NB#88209

	* src/home/hd-home.c (hd_home_constructed): Remove obsolete code for
	adding a search path for temporary icons.

	* Debug printout adjustments here and there.

2008-09-02  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* debian/hildon-desktop.postinst: Added. Modify Gtk icon theme to
	include 48x48 icons. Update Gtk icon cache. Install the GConf schema.

	* debian/hildon-desktop.init: Added. Start and stop hildon-desktop
	using a launch wrapper.

	* src/hildon-desktop.schemas: Added. GConf schema specifying default
	background images.

	* src/Makefile.am: Add installation of the GConf schema.

	* data/icons/Makefile.am, data/icons/48x48/Makefile.am: Install the
	temporary icons to the same directory as the pre-installed ones.

2008-08-29  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* configure.ac: new output file data/themes/Makefile

	* data/Makefile.am: install also themes directory

	* data/icons/48x48/Makefile.am: use a custom icon directory for the
	temporary icons.

	* data/icons/Makefile.am: install a custom icon theme for the
	temporary icons.

	* src/home/hd-home.[ch] (hd_home_constructed): prepend a temporary icon
	directory.
	(hd_home_remove_status_area): New function to handle removal of Status
	Area. Calls corresponding function in HdSwitcher.
	(hd_home_add_status_menu): New function to handle addition of Status
	Menu. Calls corresponding function in HdSwitcher.
	(hd_home_remove_status_menu): New function to handle removal of Status
	Menu. Calls corresponding function in HdSwitcher.
	(hd_home_add_status_area): New function to handle addition of Status
	Area. Calls corresponding function in HdSwitcher.

	* src/home/hd-switcher.[ch] (launcher_back_button_clicked): Add
	controlling of Status Area's visibility.
	(hd_switcher_clicked): Hide Status Area.
	(hd_switcher_item_selected): Show Status Area if the switcher is going
	to disappear.
	(hd_switcher_add_status_menu, hd_switcher_remove_status_menu,
	hd_switcher_add_status_area, hd_switcher_remove_status_area): New
	functions to handle removal and addition of Status Area/Menu. These
	functions don't have much content yet but are later expected to have.
	(hd_switcher_remove_window_actor): Show Status Area when Switcher is
	hidden.
	(hd_switcher_get_control_area_size): Hard-code button width to keep it
	in the spec value.
	(hd_switcher_group_background_clicked): Show Status Area when the Home
	was clicked.

	* src/launcher/hd-app-launcher.c (hd_app_launcher_get_icon): Correct
	the icon size to the specified 64.
	(hd_app_launcher_get_label): Hard-code width to spec value. Disable
	line wrapping in the label.

	* src/launcher/hd-launcher-item.c (struct _HdLauncherItemPrivate): Add
	bg_tile member for the background tile.
	(hd_launcher_item_get_preferred_width,
	hd_launcher_item_get_preferred_height): Throw away fancy arithmetics
	and return the specified value instead!
	(hd_launcher_item_allocate): Use specified pixel sizes where possible.
	(hd_launcher_item_paint, hd_launcher_item_pick): Add painting of
	bg_tile.
	(hd_launcher_item_show): Add showing of bg_tile.
	(hd_launcher_item_hide): Add hiding of bg_tile.
	(hd_launcher_item_finalize): Add destruction of bg_tile.
	(hd_launcher_item_get_icon): Load bg_tile. This should be done more
	intelligently (e.g. shared) and be themeable.
	
	* src/launcher/hd-task-launcher.c (hd_task_launcher_init): Correct
	spacings to specified values.

	* src/mb/Makefile.am: Add hd-status-menu.[ch].

	* src/mb/hd-status-menu.[ch]: New files for handling the Status Menu
	window.

	* src/mb/hd-comp-mgr.c (hd_comp_mgr_unregister_client): Call
	hd_home_remove_status_area() and hd_home_remove_status_menu() for
	closed Status Area and Status Menu respectively.
	(hd_comp_mgr_map_notify): Call hd_home_add_status_area() and
	hd_home_add_status_menu() for mapped Status Area/Menu.

	* src/mb/hd-status-area.c (hd_status_area_class_init): Use new client
	type HdWmClientTypeStatusArea.
	(hd_status_area_init): Add some WM hints and make Status Area
	transient to Home.

	* src/mb/hd-wm.c (hd_wm_client_new): Call hd_status_menu_new() when
	Status Menu is about to be mapped.

	* src/mb/hd-wm.h: Define new WM client types HdWmClientTypeStatusArea
	and HdWmClientTypeStatusMenu.

2008-08-22  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	* Added debug printouts and some white space fixes to many different
	places to the code.

	* src/home/hd-switcher.c: Use icon qgn_general_add for the Tasks
	button in Launcher mode.
	(hd_switcher_hide_buttons): Added for hiding Tasks button when
	Launcher is visible.
	(hd_switcher_home_background_clicked): Added for handling the Home
	background clicked signal.
	(launcher_back_button_clicked): Added for handling the back button in
	the launcher. Closes the launcher and makes the Tasks button visible
	again.
	(hd_switcher_constructed): Connect
	hd_switcher_hide_launcher_after_launch to handle actions after an
	application was selected from the launcher. (This should be done with
	some more Glibbish way.) Connect launcher_back_button_clicked to the
	new back button on the launcher. Connect
	hd_switcher_home_background_clicked to handle background-clicked
	signal from the home.
	(hd_switcher_clicked): Fixed pointer grab logic: keep the pointer
	grab whenever the task switcher or task launcher is shown.
	(hd_switcher_hide_launcher_after_launch): New.
	(hd_switcher_item_selected): Ungrab and hide the switcher when an item
	was selected from the switcher. Lower the home so that the selected
	application's window is always visible (sometimes it was not). If the
	actor argument is NULL and the switcher group is empty, ungrab the
	pointer. This is used to handle the case when the last application
	in the switcher closes. (There should be some more elegant way to do
	this.)
	(hd_switcher_setup_buttons): Show the Tasks button in switcher mode
	after the launcher was closed and there are no items in the switcher.
	(hd_switcher_group_background_clicked): Ungrab the pointer if either
	the switcher or launcher was visible, and in that case, hide the
	switcher or launcher.

	* src/launcher/hd-app-launcher.c: Change text_color so that it is
	visible on the screen.
	(hd_app_launcher_get_icon): Implement icon loading using the default
	Gtk+ icon theme.
	(hd_app_launcher_activate_service): New function to implement D-Bus
	activation of applications (mostly copy & paste from the old code).
	(hd_app_launcher_activate): Call hd_app_launcher_activate_service to
	D-Bus activate.
	(hd_launcher_tree_constructor): Use hard-coded paths for now to find
	the desktop and configuration files. (Something evil forces /usr/local
	as prefix.)

	* src/launcher/hd-launcher-utils.[ch]: Add ClutterActor back_button to
	the launcher's private struct.
	(populate_top_launcher): Return FALSE if there are no launcher items.
	(create_back_button): New function to create the back button.
	(hd_launcher_group_set_back_button_cb): New function to set up a
	handler for the back button's button-release-event.
	(hd_get_application_launcher): Add two arguments for the function to
	pass a function to call when an item was selected from the launcher.
	Make the launcher full-screen size, as in the UI spec. Add the back
	button to the top-right corner, as in the UI spec.

	* src/launcher/hd-task-launcher.c: Add the switcher callback as a
	global variable (should be moved to inside an object).
	(launch_animation_complete): Call the switcher callback to cause
	closing of the launcher.
	(hd_task_launcher_init): Define larger top padding to compensate for
	the full-screen size.
	(hd_task_launcher_new): Store the switcher callback into a global
	variable for later use.

	* src/main.c: Disable fatal warnings. They are not useful in this
	development phase.

	* src/mb/Makefile.am: Add new files hd-status-area.[ch].

	* src/mb/hd-atoms.[ch]: Add new atoms for Status Area and Status Menu.

	* src/mb/hd-wm.c: Add support for new window types, corresponding to
	Status Area and Status Menu.

	* src/mb/hd-status-area.[ch]: New files for Status Area window type
	implementation.

2008-08-12  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am: Add defines.

	* src/launcher/hd-app-launcher.[ch]: Parse the Exec key (and remove
	trailing spaces from the service and exec keys); add an activate()
	method to HdAppLauncher that will execute the application.

	* src/launcher/hd-launcher-tree.c: Clean up.

	* src/launcher/hd-task-launcher.c (launch_item): Launch the
	application that has been tapped.

2008-08-08  Chris Lord  <chris@openedhand.com>

	* tests/Makefile.am:
	* tests/test-signals.c:
	Add a background-kill/low-memory signal test application

2008-08-08  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-launcher-utils.c:
	(lazily_populate_top_launcher),
	(lazily_populate_sub_launcher): Use a higher priority for
	populating the launchers.

	(hd_get_application_launcher): Increase the width of the launchers
	and scroll areas to 780px.

	* src/launcher/hd-task-launcher.c:
	(hd_task_launcher_init): Tweak the spacing between items and
	the padding around the launcher.

2008-08-08  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-app-launcher.[ch]: Add prestart key support
	to the AppLauncher class; read and parse the Categories key
	from the desktop entry and allow checking for a category.

2008-08-08  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-app-launcher.c: Wrap the item label and
	center the text.

	* src/launcher/hd-launcher-item.c: The preferred width is
	the width of the icon + padding.

	* src/launcher/hd-task-launcher.c: Increase the spacing and
	the left/right padding.

2008-08-08  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-app-launcher.c:
	* src/launcher/hd-launcher-item.c:
	* src/launcher/hd-launcher-tree.c:
	* src/launcher/hd-launcher-utils.c:
	* src/launcher/hd-task-launcher.c: Populate the top-level
	task launcher with the contents of the LauncherTree.

2008-08-08 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-notification.c:
	* src/home/hd-notification.h:
	Added setters for icon and text.

2008-08-08 Tomas Frydrych  <tf@o-hand.com>

	* src/tidy-frame.h:
	* src/tidy-frame.c:
	Add missing files.

2008-08-08 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-notification.c:
	Removed text color properties; use tidy-stylable API instead.

2008-08-08 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	* src/Makefile.am:
	* src/home/Makefile.am:
	* src/launcher/Makefile.am
	* src/tidy/Makefile.am
	* tests/Makefile.am:
	Moved tidy from src/launcher to src/

	* src/home/hd-notication.h:
	* src/home/hd-notification.c:
	Start of customized notification actor.

2008-08-08  Emmanuele Bassi  <ebassi@openedhand.com>

	* configure.ac: Check for ftw.h and its GNU extensions.

	* src/launcher/Makefile.am:
	* src/launcher/hd-launcher-tree.c:
	* src/launcher/hd-launcher-tree.h: Add a LauncherTree object, which
	will populate itself with the contents of the desktop entries
	following (a subset of) the XDG menu spec.

	* src/launcher/hd-app-launcher.c: Implement the rest of the
	LauncherItem base class methods.

	* src/launcher/hd-launcher-utils.c:
	* src/launcher/hd-launcher-utils.h: Start the launchers tree
	population when needed.

	* tests/test-launcher.c: Enable threading.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-edit-menu.c:
	Gettextized.

2008-08-07  Chris Lord  <chris@openedhand.com>

	* src/home/hd-home-view.c (hd_home_view_allocate),
	(hd_home_view_class_init), (get_bg_image_processed_name),
	(bg_image_set_idle_cb), (process_bg_image_thread),
	(hd_home_view_refresh_bg):
	Refresh the background image when the HomeView changes size

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-background-dialog.c:
	Gettextized.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	src/mb/hd-wm.c:
	Removed stale comment.

	src/home/hd-layout-dialog.c:
	(hd_layout_dialog_constructed):
	Gettextized labels.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Added -Wno-format-extra-args (necessary for us to work with the
	hildon logical strings).

	src/mb/hd-wm.c:
	(hd_wm_client_hang):
	Gettextized hand dialog; changed to conform to spec.

2008-08-07 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-dialog.c:
	Implement dialog sizing and positioning logic.

2008-08-05 Robert Bragg  <bob@o-hand.com>

	* tests/test-portrait.c
	* tests/Makefile.am:
	Adds a simple portrait mode unit tests. It basically just lets you
	toggle a property (currently called "_HILDON_SUPPORTS_PORTRAIT_MODE")
	on a gtk window, and create transient dialogs with/without the same
	property set.

2008-08-04  Chris Lord  <chris@openedhand.com>

	* configure.ac:
	Add gconf-2.0 to dependencies

	* src/home/hd-background-dialog.[ch]:
	* src/home/Makefile.am:
	Add hd-background-dialog.[ch]

	* src/home/hd-edit-menu.c (hd_edit_menu_item_release):
	Create and show the background dialog when choosing the
	change-background menu option

	* src/home/hd-home-view.c (hd_home_view_class_init),
	(hd_home_view_get_gconf_path), (hd_home_view_gconf_bgcolor_notify),
	(hd_home_view_gconf_bgimage_notify),
	(hd_home_view_gconf_bgstyle_notify), (hd_home_view_constructed),
	(hd_home_view_init), (hd_home_view_dispose),
	(get_bg_image_processed_name), (bg_image_set_idle_cb),
	(process_bg_image_thread), (hd_home_view_refresh_bg),
	(hd_home_view_set_property), (hd_home_view_get_property),
	(hd_home_view_set_background_color):
	* src/home/hd-home-view.h:
	Use gconf to store background paths, display styles and colours.
	Add threaded background-image processing (resizing, cropping, etc.)

	* src/home/hd-home.c (hd_home_constructed), (hd_home_init):
	Add a gconf directory listener for the hildon-home path, remove
	setting of the background colour for workspaces (this is done by the
	workspace itself now).

	* src/home/hd-home.h:
	Define the hildon gconf root

	* src/main.c (main):
	Initialise GLib threads

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* tests/Makefile.am
	* src/launcher/test-launcher.c
	* src/launcher/Makefile.am:
	Moves test-launcher up into the tests/ dir

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* src/home/hd-switcher.c
	* src/home/hd-home.c
	* src/home/hd-home.h
	* src/util/hd-util.c
	* src/util/hd-util.h:
	Some re-working of the pointer grabbing. We now have just one set of
	hd_home_grub/ungrab_pointer functions (removes the util versions for
	now) It adds more debugging to identify unbalanced ungrab calls.

	Adds a grab when the launcher is run.

2008-08-04 Robert Bragg  <bob@o-hand.com>

	* home/hd-switcher.c:
	Don't use clutter_actor_{show,hide}_all to show/hide the launcher
	use clutter_actor_{show,hide}. (There is an unresloved issue where
	by using the *_all calls breaks input event handling in the
	launcher.)

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* src/home/hd-switcher.c:
	Removes some fidling with the stacking of the switcher group that
	seems to fix stacking bug whereby dialogs can end up hiden below the
	home views.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* data/icons/48x48/Makefile.am
	* data/icons/48x48/qgn_home_resizer.png
	* data/icons/48x48/qgn_home_edit_mode.png
	* data/icons/48x48/qgn_home_settings.png
	* data/icons/48x48/qgn_home_close.png
	* data/icons/48x48/qgn_general_add.png:
	Adds more icons using the logical names we know of

	* data/menu-button.png:
	Resizes to 56px height to match the height of the title area as
	defined in the master layout document.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* tests/test-applet.c
	* tests/Makefile.am
	* src/hd-applet-test.c
	* Makefile.am:
	Moves hd-applet-test.c into tests/tests-applet.c and hooks into the
	build scripts.

2008-08-01 Robert Bragg  <bob@o-hand.com>

	* data/icons/48x48/bg-image-switcher.png
	* data/icons/48x48/bg-image-launcher.png:
	Removes a couple of unsed icons

2008-07-31 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-wm.c:
	Hooks up a handler for unresponsive clients that shows a gtk message
	dialog allowing the user to either wait longer or force the client
	to quit.

	* configure.ac
	* tests/Makefile.am
	* tests/test-hung-process.c:
	Adds a simple unit test to verify the dialog for handling unresponsive
	clients.

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-comp-mgr.c:
	removes hd_comp_mgr_client_shutdown_timeout_cb and no longer sets up
	a timeout before calls to mb_wm_client_deliver_delete.

	I think there is no reliable metric for determining if a client has
	responded to a WM_DELETE (since the client can show the user a
	confirmation dialog and cancel any response) Instead we leave it up to
	the NET_WM_PING protocol for detecting unresponsive clients.

	Specifically: Testing if the client process was still running after
	a timeout and killing (-9) if so was particularly bad in the case that
	the client process was actually the WM process :-)

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/main.c:
	Initialises gtk+, clutter and mbwm2 so that they behave nicely
	together. Of a few approaches tried, this has worked best. Noteably
	it gives gtk+ a seperate X connection from clutter and mbwm2 so
	that dialogs etc, appear to the window manager as a separate client.

	more rationale is in the comments, but basically trying to do client
	like things in-process with the WM turnes out to be a a Bad Idea (tm)
	not least because it breaks the SubStructureRedirect mechanism.

	NB: You must build your libmatchbox2 without passing --with-gtk !

2008-07-30 Robert Bragg  <bob@o-hand.com>

	* src/mb/hd-wm.c:
	Make sure we never interpret the window type for override redirect
	windows. (E.g. we were handling an 1px x 1px offscreen window - used
	by the gtk color selector for grabbing input - as an application
	window and creating a full screen frame and title bar etc)

	* src/home/hd-home.c:
	Don't mark the input only desktop window as override redirect; it
	is enough that it is marked as NET_WM_WINDOW_TYPE_DESKTOP.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-launcher-utils.c:
	(hd_get_application_launcher): Add padding.

	* src/launcher/test-launcher.c: Remove the positioning code,
	since the padding is done by the launcher group already.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-launcher-utils.c: Put the sub-level task
	launcher into its own FingerScroll, and animate the FingerScroll
	actor instead of directly the TaskLaunchers, when switching
	between top-level and sub-level.

	* src/launcher/hd-task-launcher.c: Take a reference on the
	members of the launcher closure, so that they won't disappear
	before the effect is complete; this fixes launching items
	from the sub-level task launcher.

2008-07-30  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-dummy-launcher.c: Use a random color for
	the dummy launcher icon; shorten the "bounce" effect duration.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c (launch_item): Hardcode
	the size and position of the launcher pre-load icon.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-dummy-launcher.c: Add an animation when
	showing the launchers, as per UI spec.

2008-07-29 Robert Bragg  <bob@o-hand.com>

	* src/applet-settings-button.png
	* src/applet-resize-button.png
	* src/bg-image-switcher.png
	* src/edit-button.png
	* src/bg-image-launcher.png
	* src/back-button.png
	* src/menu-button.png
	* src/close-button.png
	* src/hibernation-icon.png:
	Removes the pngs that should have gone with my previous
	theme changes. (The equivalent images now live under
	data/ and data/icons/)

	* data/themes/FremantleDev/mbwm2/theme.xml:
	typo, change template-pad-width -> template-pad-length
	adds show-title="yes"
	Note: Currently the theme engine doesn't understand about
	the icons at the top left of the screen and tries to
	print the title aligned to the left of the screen.

	* data/themes/FremantleDev/mbwm2/template.png:
	adds a close button to the template. Note though there
	was a bug with calculating the button position in the
	png theme engine. You will need to pull the latest
	mbwm2 for the close button to work)

	* data/launcher-button-highlight.png:
	* src/home/hd-switcher.c:
	Improved compositing of the swither/launcher icons. They
	are now composed of a solid colour background, a 48x48
	icon and a light higlight texture.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/home/hd-switcher.c:
	(hd_switcher_constructed): If you don't add actors to a group
	it'll be slightly difficult for Clutter to draw them.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/Makefile.am:
	* src/home/Makefile.am:
	* src/home/hd-switcher.c: First, raw pass at integrating the
	launcher into the desktop. WARNING: might break everything.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:
	* src/launcher/hd-launcher-utils.[ch]:
	* src/launcher/test-launcher.c: Prepare integration of the task
	launcher into the desktop by moving the whole build sequence of
	the launchers, animations and callbacks into a single function.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c:
	(launch_item),
	(hd_task_launcher_real_item_clicked): Update the animation of
	the application launcher; now it will use the right actor as
	the starting point of the "growing" animation.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:

	* src/launcher/hd-launcher-item.c: Remove unused effect template.

	* src/launcher/test-launcher.c: Move the application launcher
	animation from here...

	* src/launcher/hd-task-launcher.c: ... to here, where it belongs.

	* src/launcher/tidy/Makefile.am:
	* src/launcher/tidy/tidy-animation.[ch]:
	* src/launcher/tidy/tidy-interval.[ch]: Add tweening API for
	Tidy.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher-private.h:
	* src/launcher/hd-task-launcher.c: Small clean ups.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/tidy/tidy-scroll-view.c:
	(tidy_stylable_iface_init): Make the scroll bars slighly less
	big.

2008-07-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c: Update the adjustment range
	each time a launcher has been added to the HdTaskLauncher.

	* src/launcher/tidy/tidy-scroll-bar.c: Resync from tidy trunk
	to fix a segmentation fault.

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/Makefile.am:
	* src/launcher/main.c:
	* src/launcher/test-launcher.c: Rename the test-launcher source
	file.

2008-07-28 Robert Bragg  <bob@o-hand.com>

	* src/launcher/tidy/Makefile.am:
	support out of tree builds

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	* src/launcher/hd-task-launcher.c:
	(hd_task_launcher_get_preferred_height),
	(hd_task_launcher_class_init): Compute the preferred height for the
	task launcher.

2008-07-28  Emmanuele Bassi  <ebassi@openedhand.com>

	Integrate the launcher in SVN. This is an initial implementation
	that's useful to check the effects and the integration: the actual
	loading and saving of the launcher contents is being reworked to
	allow the user to change the layout.

	* configure.ac:
	* src/Makefile.am:
	* src/launcher/Makefile.am: Add the launcher section.

	* src/launcher/hd-launcher-item.c:
	* src/launcher/hd-launcher-item.h: Base class for the launcher items;
	actors implementing this class must provide an icon and a label for
	the TaskLauncher to lay out inside its grid.

	* src/launcher/hd-app-launcher.c:
	* src/launcher/hd-app-launcher.h: Abstraction of the KeyFile provided
	by an application.

	* src/launcher/hd-dummy-launcher.c:
	* src/launcher/hd-dummy-launcher.h: "Dummy" launcher item.

	* src/launcher/hd-task-launcher-private.h: Private declarations.

	* src/launcher/hd-task-launcher.c:
	* src/launcher/hd-task-launcher.h: Main container actor.

	* src/launcher/main.c: Test environment, to avoid breaking the desktop
	until we have the Launcher ready.

	* src/launcher/tidy: Internal copy of actors and objects from Tidy.
	We need them for the finger pannable launcher.

2008-07-24 Robert Bragg  <bob@o-hand.com>

	* configure.ac:

	make sure we link against clutter-0.8 not clutter-0.7

2008-07-21 Robert Bragg  <bob@o-hand.com>

	* src/main.c
	* src/home/hd-gtk-style.c:
	Adds code for using GtkStyle info from a number of singleton gtk
	widgets.

	* src/home/hd-gtk-utils.c
	* src/home/hd-gtk-utils.h:
	Created some utility code for loading icons into a ClutterTexture and
	having a fallback (currently just a blank ClutterRectangle) when the
	icon can't be loaded.

	* src/home/hd-layout-dialog.c
	* src/home/hd-switcher-group.c
	* src/home/hd-home.c
	* src/home/hd-switcher.c
	* src/home/hd-gtk-style.h
	* src/home/Makefile.am
	* src/mb/hd-comp-mgr.c:
	Updated various harded coded colors, fonts or clutter texture icon
	initialisations to use the above code so the values can come from
	gtk style themes and gtk icon themes.

	* configure.ac
	* Makefile.am
	* data
	* data/themes
	* data/themes/FremantleDev
	* data/themes/FremantleDev/gtk-2.0
	* data/themes/FremantleDev/gtk-2.0/gtkrc
	* data/themes/FremantleDev/mbwm2
	* data/themes/FremantleDev/mbwm2/theme.xml
	* data/themes/FremantleDev/mbwm2/template.png:
	Adds a simple initial "hildon" mbwm2 theme and simple gtk theme
	for testing with.

	NB:
	- To pick up the development gtk theme you currently need to export
	GTK2_RC_FILES=/path/to/src/data/themes/FremantleDev/gtk-2.0/gtkrc
	- To pick up the development mbwm2 theme you need to pass
	-theme /path/to/src/data/themes/FremantleDev/mbwm2/theme.xml
	on the hildon-desktop command line.

	* data/Makefile.am
	* data/icons
	* data/icons/48x48
	* data/icons/48x48/applet-settings-button.png
	* data/icons/48x48/applet-resize-button.png
	* data/icons/48x48/qgn_tswitcher_right.png
	* data/icons/48x48/bg-image-switcher.png
	* data/icons/48x48/qgn_tswitcher_back.png
	* data/icons/48x48/qgn_home_close.png
	* data/icons/48x48/qgn_tswitcher_application.png
	* data/icons/48x48/qgn_tswitcher_close.png
	* data/icons/48x48/Makefile.am
	* data/icons/48x48/bg-image-launcher.png
	* data/icons/48x48/hibernation-icon.png
	* data/icons/48x48/back-button.png
	* data/icons/48x48/qgn_tswitcher_left.png
	* data/icons/Makefile.am:
	Re-organises the .png icons to be installed under $prefix/share/icons
	to be picked up by the gtk_icon theme/cache code.

	Renames some of the .png files to their logical names.

	NB:
	You currently need to export
	XDG_DATA_DIRS="/path/to/prefix/share:/usr/local/share/:/usr/share/")
	for the icons to be found.

	* data/menu-button.png
	* data/edit-button.png:
	Installs other misc images under $prefix/share/hildon-desktop for now.
	It's no longer neccisary to run hildon-desktop in the same dir as
	the .png files

2008-07-17 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	* src/mb/hd-desktop.c:
	* src/mb/hd-home-applet.c:
	* src/mb/hd-home-applet.h:
	* src/mb/hd-applet-layout-manager.c:
	* src/mb/hd-applet-layout-manager.h:
	Implemented automatic applet layout per specification.

2008-07-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home.c:
	* src/home/hd-switcher-group.c:
	* src/home/hd-switcher-group.h:
	* src/home/hd-switcher.c:

	Implemented panning in the switcher.

2008-07-15 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Disabled applet sittings button (it has been removed from the
	spec, but there is some uncertanity whether it will not come back,
	hence the #ifdefs).

2008-07-15 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	(hd_home_add_applet):
	(hd_home_remove_applet):
	Support for sticky applets.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-layout-dialog.c:
	(hd_layout_dialog_constructed):
	Fixed bad cast.

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	Support for background modes.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	Split background into solid color and image.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-layout-dialog.c:
	Layout managing mode: added thumbnails to dialog, connected event
	handlers.

2008-07-04 Tomas Frydrych  <tf@o-hand.com>

	* src/home/Makefile.am:
	* src/home/hd-home.c:
	* src/home/hd-layout-dialog.h:
	* src/home/hd-layout-dialog.c:
	Initial refactoring of layout managing mode to matched the updated
	spec.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home-view.h:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	Implemented moving of applets across view boundary.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home-view.c:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	Controls for switching home view while dragging an applet.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Put back -Werror following fix in clutter headers.

	* src/home/hd-home.c:
	(hd_home_fixup_operator_position):
	Removed spurious line of code.

2008-07-03 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-switcher.c:
	* src/home/hd-switcher.h:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	Added operator label and basic API for setting text and icon.

2008-07-02 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	( hd_switcher_group_zoom_out):
	Ensure that the actor we are zooming is topmost.

2008-07-02 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	Refactored zoom-out effect to match the current spec.

2008-07-01 Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Temporarily remove --Werror until an issue in clutter headers is
	fixed upstream.

	* src/mb/hd-comp-mgr.c:
	Shortened timeout for unmap effect.

2008-06-30 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	(hd_switcher_group_remove_actor):
	Reparent the actor if appropriate.

	* src/mb/hd-comp-mgr.c:
	Added a counter for running unmap effects to control stacking order
	while unmap effects are running.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Added background to HdHome actor.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/hd-applet-test.c:
	Added --view-id parameter.

2008-06-18 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	* src/mb/hd-desktop.c:
	Implemented specialized HdDesktop::stack() method to handle applet
	visibility.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	(construct_buttons):
	Removed some testing code.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-switcher-group.c:
	(hd_switcher_group_hide_all):
	Added explicit call to clutter_actor_show() when reparenting
	client actors back to original parent.

2008-06-16 Tomas Frydrych  <tf@o-hand.com>

	* src/home/home.c:
	(hd_home_remove_view):
	(hd_home_do_layout_contents):
	Ensure correct position of Home in layout mode when last view in
	the list is removed.

2008-06-13 Tomas Frydrych  <tf@o-hand.com>

	* src/home/hd-home.c:
	Fixed layout view when a view is removed.

2008-06-13 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-dialog.c:
	* src/mb/hd-dialog.h:
	* src/mb/hd-wm.c:
	Custom MBWMClientDialog subclass to handle hildon peculiarities.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/home/Makefile.am:
	* src/home/hd-home.c:
	* src/home/hd-home.h:
	* src/home/hd-switcher.c:
	* src/home/hd-edit-menu.h:
	* src/home/hd-edit-menu.c:
	* src/mb/hd-comp-mgr.c:
	* src/mb/hd-comp-mgr.h:
	Home edit menu.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	(hd_app_close_followers):
	Hooked into  mb_wm_client_deliver_delete() mechanism.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/main.c:
	* src/mb/Makefile.am:
	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	* src/mb/hd-wm.c:
	* src/mb/hd-wm.h:
	Custom HdAppMenu subclass of MBWMClientDialog to handle Hildon
	application menu windows.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am:
	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	* src/mb/hd-wm.c:
	* src/mb/hd-note.h:
	* src/mb/hd-note.c:
	Custom HdNote subclass of MBWMClientNote to handle Hildon
	notifications (banners, infos and confirmations).

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/hd-applet-test.c:
	Added couple of sliders to the sample applet.

2008-06-12 Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	* src/mb/hd-app.h:
	* src/mb/hd-theme.c:
	More of Hildon stackable window back button code.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	Skeleton for handling presses on Hildon stackable window back
	button.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-app.c:
	* src/mb/hd-app.h:
	* src/mb/hd-theme.c:
	Fixed handling of hildon stackable windows so that legacy
	applications continue to work as they used to.

	* src/mb/hd-atoms.c:
	* src/mb/hd-atoms.h:
	Added _HILDON_STACKABLE_WINDOW atom.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/Makefile.am
	* src/mb/hd-app.h:
	* src/mb/hd-app.c:
	* src/mb/hd-theme.c
	* src/mb/hd-wm.c
	Custom MBWMClientApp subclass to allow handling of hildon views.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-comp-mgr.h:
	Replace binary flags in HdCompMgrClientPrivate with boolean fields
	to improve clarity.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Connect/disconnect captured-event handler selectively for
	thumbnail mode only.

2008-06-11  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Handle thumbnail mode via capture-event signal instead of using a
	mouse trap actor.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	* src/mb/hd-theme.c:
	* src/mb/hd-theme.h:
	Added HdThemeSimple, subclass of MBWMTheme, to simplify testing
	in the absence of real, png-based theme.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	* src/main.c:
	* src/mb/Makefile.am:
	* src/mb/hd-theme.h:
	* src/mb/hd-theme.c:
	Start start of a customized MBWMTheme subclass.

2008-06-10  Tomas Frydrych  <tf@o-hand.com>

	Restructured source tree to improve clarity:

	* src/mb:   Matchbox subclasses,
	* src/home: Home (clutter subclasses),
	* src/util: Auxiliary stuff.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_zoom):
	Fixed group position before zoom effect.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Correctly terminate applet resizing when release lands outside of
	the resize button.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-home.c:
	Hooked up settings button.

	* src/hd-applet-test.c:
	Added ClientMessage handler.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Applet resizing.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home.c:
	* src/hd-home.h:
	Applet dragging.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_class_init):
	Fixed typo.

	* src/hd-home.c:
	Hooked up applet close button.

2008-06-09  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home.c:
	* src/hd-home.h:
	Added edit mode applet decors and signal handlers.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	Start of Home edit mode.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-home.c:
	Added simple ClientMessage-based mechanism for applet-initiated
	home panning.

	* src/hd-applet-test.c:
	Simple Home applet.

2008-06-05  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_top_home):
	(hd_comp_mgr_home_clicked):
	Implemented topping of home.

	* src/hd-home-applet.c:
	(hd_home_applet_init):
	Make transient for HdDesktop client.

	* src/hd-home.c
	(hd_home_constructed):
	Revert default mode to NORMAL.

	* src/hd-switcher.c:
	* src/hd-switcher.h:
	(hd_switcher_deactivate):
	API to deactivate switcher and restore normal stack order.

2008-06-04  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c
	* src/hd-home-view.h
	* src/hd-home.c
	* src/hd-home.h
	Refactored panning code to avoid need to do pointer grab.

	* src/hd-util.c:
	* src/hd-util.h:
	Remove unnecessary functions.

	* src/Makefile.am
	* src/hd-comp-mgr.c
	* src/hd-wm.c:
	* src/hd-desktop.h:
	* src/hd-desktop.c:
	* src/hd-home-applet.c
	Custom MBWindowManagerClient subclass for our input-only desktop
	window.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Handle applet removal.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	Forwarding of events to applets.

	* src/hd-util.c:
	* src/hd-util.h:
	(hd_util_ungrab_pointer):
	Added return value.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	* src/hd-home.h:
	Attach applets to a home view.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_restack):
	If only home applets are present, put home into active input mode.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	New atoms for home applet type.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	(hd_comp_mgr_get_atom):
	Public accessor for the custom atom cache.

	* src/hd-home-view.c:
	* src/hd-home.c:
	Added HdHomeView::id construction property to persistently
	identify given view.

	* src/hd-wm.h:
	HdWmClientType enum for client types.

	* src/hd-wm.c
	Subclassed MBWindowManager::client_new().

	* src/Makefile.am:
	* src/hd-home-applet.h:
	* src/hd-home-applet.c:
	Start of custom client type for home applets.

2008-06-03  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_pan_full):
	Deal with view rollover.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	Added construction time "home" property.
	Refactored motion handling.

	* src/hd-home.c:
	* src/hd-home.h:
	Translate view motion events to panning.

	* src/hd-util.c:
	(hd_util_grab_pointer):
	Added motion event mask.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_restack):
	Put Home into active input mode when no application windows are
	present.

	src/hd-home-view.c:
	src/hd-home-view.h:
	src/hd-home.c:
	src/hd-home.h:
	Added active input mode for the Home actor when Home is
	on the top (all button events are getting trapped within Home
	views and only forwarded to children when appropriate).

	Added HdHome::background-clicked signal.

2008-06-02  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added ClutterButtonEvent parameter to thumbnail-clicked and
	background-clicked signals.

	* src/hd-home.c:
	* src/hd-switcher.c:
	* src/hd-util.c:
	* src/hd-util.h:
	(hd_util_grab_pointer):
	(hd_util_ungrab_pointer):
	Extracted pointer grabbing from home/mgr.

	(hd_util_fake_button_event):
	Function to dispatch fake button events.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added background-clicked signal.

	* src/hd-home.c:
	* src/hd-home.h:
	Smooth home panning.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_show_view):
	Fixed handling of mode and home position.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home-view.c:
	* src/hd-home-view.h:
	* src/hd-home.c:
	Added thumbnail mode and thumbnail-clicked for home layout view.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Added new view button; fixed return values in button click
	handlers.

	* src/hd-switcher-group.c:
	* src/hd-switcher.c:
	Fixed return values in button click handlers.

2008-05-30  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_do_layout_layout):
	Added zoom out effect when switching to layout mode.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	Start of edit mode.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	(hd_home_constructed):
	Removed misplaced hd_home_set_mode() call left over from testing.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/back-button.png:
	Placeholder of back button icon.

	* src/hd-home.c:
	Added close and back butttons.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-home.c:
	* src/hd-home.h:
	Infrastructure for normal/edit/layout mode; fundamentals of normal
	and layout layouts.

2008-05-29  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	* src/hd-home.c:
	* src/hd-home.h:
	* src/hd-home-view.c:
	* src/hd-home-view.h:
	Added HdHomeView object to represent a single home view.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_launch_application):
	Added available memory check; UI needed.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	(hd_switcher_group_hide_all):
	Setup vieport to mask out client decorations as requied by the UI
	spec.

	* src/hd-switcher.c:
	(hd_switcher_item_selected):
	* src/hd-comp-mgr.c:
	(hd_comp_mgr_unregister_client):
	Fixed incorrect GObject data key.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hibernation-icon.png:
	stub for an hibernation icon.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher.c:
	Waking up of hibernated applications via switcher.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-dbus.c:
	* src/hd-dbus.h:
	(hd_dbus_launch_service):
	Helper method for the below.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	(hd_comp_mgr_launch_application):
	Method to launch applications over dbus.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	Added TODO comment.

2008-05-28  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-atoms.c:
	* src/hd-atoms.h:
	* src/hd-comp-mgr.c:
	* src/hd-switcher-group.c:
	* src/hd-switcher-group.h:
	* src/hd-switcher.c:
	* src/hd-switcher.h:
	Handle weaking up of hibernated applications.

2008-05-27  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	Added -D_XOPEN_SOURCE (need to access kill()).

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-dbus.c:
	(hd_comp_mgr_close_client):
	(hd_comp_mgr_hibernate_client):
	Made more robust by adding a timed check followed by a kill() for
	applications that refuse to die.

	(hd_comp_mgr_hibernate_client):
	(hd_comp_mgr_hibernate_all):
	Differentiate between applications that know how to hibernate and
	those that do not; added force parameter to override.

2008-05-27  Tomas Frydrych  <tf@o-hand.com>

	* configure.ac:
	Added dbus to required packages.

	* src/Makefile.am:
	Added hd-atom.[ch] hd-dbus.[ch] and hd-util.[ch] to build.

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	Added dbus hook for hibernation signal,
	Subclassed MBWMCompMgrClutterClient and moved our flags into
	HdCompMgrClientPrivate.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher-group.c:
	Start of implementation of hibernation infrastructure.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	* src/hd-comp-mgr.h:
	* src/hd-switcher.c:
	Moved HdHome object from HdSwitcher into the CM; handle events on
	the Home actor.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-switcher-group.c:
	(hd_switcher_group_show_all):
	(hd_switcher_group_hide_all):
	Removed temporary workaround not necessary now that HdHome is
	present.

2008-05-23  Tomas Frydrych  <tf@o-hand.com>

	* src/Makefile.am:
	* src/hd-home.h:
	* src/hd-home.c:
	Initial stubs for the Home object.

	* src/hd-switcher.c:
	(hd_switcher_constructed):
	(hd_switcher_clicked):
	(hd_switcher_hide_switcher):
	Integrated HdHome object into the WM.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-mgr.c:
	(hd_comp_mgr_effect):
	Implemented TV-out style effect for application windows.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Cleaned up comments and code.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Removed stale files.

2008-05-22  Tomas Frydrych  <tf@o-hand.com>

	Simplified compositor by subclassing MBWM2's Clutter compositor.

2008-05-14  Tomas Frydrych  <tf@o-hand.com>

	* src/hd-comp-window.c:
	* src/hd-switcher.c:
	Sync up with upstream changes in clutter API.

